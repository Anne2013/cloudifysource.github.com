---
layout: default
title: Configuring Azure
cat: Installation & Setup
publish: true
abstract: Explains how to configure Windows Azure for Cloudify
pageord: 400
--- 

This topic provides instructions for configuring Windows Azure for Cloudify.


h2. Windows Azure IaaS API 

The windows azure cloud driver uses the new Windows Azure IaaS API to enable users to easily deploy any application to the Windows Azure cloud. 
It conforms to the normal cloud configuration files you are used to in cloudify, thus making the process extremely simple.


<h4 class="info">Currently support is limited to linux images.</h4>


h2. Prerequisites

You must "(newwindow)register for it":https://www.windowsazure.com/en-us/pricing/free-trial in order to have the ability to launch Virtual Machines,since this is still a preview feature.

After registering, you need to create your own self-signed X509 certificate using OpenSSL:
* *@openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout azure-cert.pem -out azure-cert.pem@*
The above will create the azure-cert.pem file that contains the public and private key of the certificate.
* *@openssl pkcs12 -export -out azure-cert.pfx -in azure-cert.pem -name "My Self Signed Cert"@* 
The above will convert the .pem file to to PKCS12 format (.pfx)
* *@openssl x509 -outform der -in azure-cert.pem -out azure-cert.cer@*
The above will extract the public key into a .cer file.

<br/>
Once you have the public key in a .cer format, you need to upload this to the Azure environment using the management portal:

!../../images/azure/azure_platform.png!


Once you have uploaded the certificate, you can ahead and switch to the preview portal, which will give you a clearer view of the virtual machines you are about to launch:
!../../images/azure/azure_sbscribe.png!


h2. Configuring the Cloud Driver

Edit the cloud driver file under <CLOUDIFY-ROOT_FOLDER>/tools/cli/plugins/esc/azure/azure-cloud.groovy and fill in the missing parts.
Instructions are included in the file, as shown in the following code snippet:
<script src="https://gist.github.com/3609738.js?file=azure-cloud.groovy"></script>

h4(impt). In order for you to connect to your service from your laptop, you must specify the ports you wish to open in the template used by the service.

<script src="https://gist.github.com/3598533.js?file=tomcat_azure.groovy"></script>

h2. What's Next?

"Bootstrapping Azure":../bootstrapping/bootstrapping_azure