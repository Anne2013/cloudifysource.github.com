---
layout: default
title: Configuring Azure
cat: Installation & Setup
publish: true
abstract: Explains how to configure Windows Azure for Cloudify
pageord: 400
--- 

This topic provides instructions for configuring Windows Azure for Cloudify using the IaaS API.

h2. Prerequisites

* Windows 7, Windows Server 2008, or Windows Vista SP1 with the latest service packs installed
* Windows Azure SDK "Azure SDK v1.6 64-bit [x64]":http://www.microsoft.com/downloads/info.aspx?na=41&srcfamilyid=e4635d95-61ce-415e-ae92-3004856c08e2&srcdisplaylang=en&u=http%3a%2f%2fdownload.microsoft.com%2fdownload%2fD%2fF%2f4%2fDF442AB0-FAAE-44FF-A04E-F41E72FE6B6F%2fWindowsAzureSDK-x64.msi or "Azure SDK v1.6 32-bit [x86]":http://www.microsoft.com/downloads/info.aspx?na=41&srcfamilyid=e4635d95-61ce-415e-ae92-3004856c08e2&srcdisplaylang=en&u=http%3a%2f%2fdownload.microsoft.com%2fdownload%2fD%2fF%2f4%2fDF442AB0-FAAE-44FF-A04E-F41E72FE6B6F%2fWindowsAzureSDK-x86.msi
* A "Windows Azure":http://www.microsoft.com/windowsazure/free-trial/ account
* "Silverlight-enabled(Download Silverlight)":http://www.microsoft.com/getsilverlight/ web browser (required by Azure Management Portal)
* "Java Development Kit 1.6(Download JDK)":http://www.oracle.com/technetwork/java/javase/downloads/index.html
* "OpenSSL":http://www.openssl.org
* Cloudify shell (for information about installing the Cloudify shell, see "Installing the Cloudify Shell":../setup/installing_the_cloudify_client)

h2. Configuring Windows Azure

This section provides step-by-step instructions for the following configuration tasks:

# "Generate a private key":#key
# "Configure the Cloudify cloud driver configuration file":#driver

h3(#key). Generate a private key

# Create the certificate file (@azure-cer.pem@) public and private keys for the certificate -- Run the following command: *@openssl@* @req -x509 -nodes -days 365 -newkey rsa:2048 -keyout azure-cert.pem -out azure-cert.pem@
# Convert the file to PKCS12 format (.pfx) -- Run the following command: *@openssl@* @pkcs12 -export -out azure-cert.pfx -in azure-cert.pem -name "My Self Signed Cert"@
# Extract the public key to a @.cer@ file -- Run the following command: *@openssl@* @x509 -outform der -in azure-cert.pem -out azure-cert.cer@
# Upload the @.cer@ file to your Azure account using the Azure Management Console -- Click *Management Certificates*, and then click *Add Certificate*.
<img src="../../images/azure/azure_platform.png" width="655px">

h2(info). Once the certificate is uploaded, you can click *Visit the Preview Portal* to view the list of virtual machines you can provision.
<img src="../../images/azure/azure_sbscribe.png" width="655px">

h3(#driver). Configure the Cloudify cloud driver configuration file

Edit the Azure cloud driver configuration file (azure-cloud.groovy) located in the <cloudifyRoot>/tools/cli/plugins/esc/azure/ folder.
<br />
The following shows an example @azure-cloud.groovy@ file.
<script src="https://gist.github.com/3609738.js?file=azure-cloud.groovy"></script>

h4(impt). To remotely connect to your service from a laptop, you must specify the connection ports in the template used by the service.

<script src="https://gist.github.com/3598533.js?file=tomcat_azure.groovy"></script>

h2. What's Next?

"Bootstrapping Azure":../bootstrapping/bootstrapping_azure